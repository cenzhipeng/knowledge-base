---
id: 线程相关
title: 本文内容
sidebar_label: 线程相关
---



## 什么是线程

线程是 CPU 分配的基本单位

> - 操作系统是把资源分配的进程的（CPU以外的资源）
> - CPU 资源分配的基本单位是线程



## 调用 start 方法后的线程状态

处于就绪态，此时新线程还没有得到 CPU 资源去执行

> 只有新线程得到 CPU 资源，才会变成运行状态



## 线程等待和通知

### wait 方法

当在某个线程中调用了一个共享对象的 wait() 方法时，这个线程就会被阻塞挂起，直到下面的事件发生：

- 其它线程调用了这个对象的 notify 或者 notifyAll 方法
- 其它线程调用了这个被阻塞的线程的 interrupt() 方法，这个被阻塞的线程立刻被唤醒然后抛出 InterruptedException 异常，我们在异常的 catch 块中就可以继续执行相关的逻辑（进入异常块就知道线程没有获取到被正常唤醒，可以处理相关的内容）

### 虚假唤醒现象

就算其它线程没有调用共享对象的 notify 或者 notifyAll 方法以及 interrupt() 方法，先前被阻塞挂起的线程仍然有可能进入运行状态，这个就是虚假唤醒现象，这个是操作系统底层和多核处理器之间的一个问题。

我们能够做的就是，将

```
if(条件不满足){
	obj.wait();
}
```

改成

```
while(条件不满足){
	obj.wait();
}
```

> 这样来确保被唤醒的时候满足我们的条件

