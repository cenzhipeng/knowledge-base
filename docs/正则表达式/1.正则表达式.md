---
id: 正则表达式
title: 本文内容
sidebar_label: 正则表达式
---



## 正则表达式

### 应用场景

简单来说就是两种场景：搜索和替换文本

### 作用

正则表达式能按照某种模式匹配一系列有相似特征的字符串。换句话说，一个正则表达式能够匹配多个字符串

Python 通过标准库中的 re 模块来支持正则表达式。

### 搜索和匹配

搜索(searching)，即在字符串任意部分中搜索匹配的模式，而匹配(matching)是指判断一个字符串能否从起始处全部或者部分地匹配某个模式。

也就是说：搜索是要搜索出字符串，匹配是要判断是否能够搜索出字符串



## 正则表达式对照表

- literal：
  - 描述：匹配文本字符串的字面值 literal
  - 正则示例：foo
  - 说明：匹配任何包含 foo 的字符串
- re1|re2：
  - 描述：匹配正则表达式 re1 或者 re2
  - 正则示例：foo|bar
  - 说明：匹配任何包含 foo 或者 bar 的字符串
- .：
  - 描述：匹配任何一个字符(除了 \n 之外)
  - 正则示例：b.b
  - 说明：匹配包含 bnb bab bcb 之类的字符串
- ^：
  - 描述：匹配字符串起始部分
  - 正则示例：^Dear
  - 说明：匹配任何以 Dear 开头的字符串
- $：
  - 描述：匹配字符串终止部分
  - 正则示例：/bin/*sh$
  - 说明：匹配包含 xxx/binsh xxx/bin/sh xxx/bin//sh xxx/bin///sh 等的字符串，且必须以 sh 结尾
- *：
  - 描述：匹配 0 次或者多次前面出现的正则表达式，注意这里指代的是 1 个表达式，例如 `/bin/*sh$` 这里的 0 次或者多次仅仅代表前面的 `/` 出现 0 次或者多次
  - 正则示例：[A-Za-z0-9]*
  - 说明：匹配包含由（大写字母、小写字母、阿拉伯数字）组成的字符串。（实际上任何字符串都可以，因为可以理解成包含 0 次匹配也就是空字符串，任何字符串都可以认为包含空字符串）
- +：
  - 描述：匹配 1 次或者多次前面出现的正则表达式，注意这里指代的是 1 个表达式，例如 `/bin/*sh$` 这里的 1 次或者多次仅仅代表前面的 `/` 出现 1 次或者多次
  - 正则示例：[a-z]+\.com
  - 说明：匹配包含由小写字母与 `.com` 的组合，例如：aaa.com bbb.com ccc.com 等，这里 `.com` 前面至少有一个小写字母
- ?：
  - 描述：匹配 0 次或者 1 次前面出现的正则表达式
  - 正则示例：goo?
  - 说明：匹配包含 goo 和 gooo 的字符串，例如 `呵呵goo`
- {N}：
  - 描述：匹配 N 次前面出现的正则表达式
  - 正则示例：[0-9]{3}
  - 说明：匹配包含有 3 个连续数字的字符串，例如 `n1233` `abc222ddd`
- {M,N}：
  - 描述：匹配 M 到 N 次前面出现的正则表达式
  - 正则示例：[0-9]{5,9}
  - 说明：匹配包含有 5-9 个连续数字的字符串，例如 `n12345` `n123456789`
  - 也可以使用 {5,} 表示至少匹配 5 次，但是不需要给出最大值，此时如果出现 100 次也是可以匹配的，等价的说法相当于是说重复 5 次及以上的次数
- [...]：
  - 描述：匹配来自字符集的任意单一字符
  - 正则示例：[aeiou]
  - 说明：匹配包含有上面 5 个字符里任意一个字符的字符串，例如 `a` `be` `ii`
- [..x−y..]：
  - 描述：匹配 x~y 范围中的任意单一字符
  - 正则示例：[0-9],[A-Za-z]
  - 说明：匹配包含有（数字、逗号、字母）这种模式组成的字符串，例如 `1,a` `啊11,B`
- [^...]：
  - 描述：不匹配此字符集中出现的任何一个字符，包括某一范围的字符(如果在此字符集中出现)
  - 正则示例：`[^aeiou],[^A-Za-z0-9]`
  - 说明：匹配包含有（非 aeiou 、逗号、非字母数字）这种模式组成的字符串，例如 `,,,` `x,我`
- (*|+|?|{})?：
  - 描述：量词的非贪婪模式，普通量词是 * + ? {} 等，它们会尽量匹配更长的序列，也就是贪婪模式。例如一个字符串 `abcaxc`，与一个模式 `ab.*c`，这种就是贪婪模式，`.*`会匹配到最长的序列，最终匹配了整个字符串 `abcaxc`，而如果使用非贪婪模式：也就是在量词后面添加一个问号：`ab.*?c` 将会匹配到最短的序列，最终匹配到了字符串 `abc`
  - 正则示例：`ab.*?c`
  - 说明：非贪婪匹配，例如 `print(re.search('ab.*c', 'abcaxc').group())` 捕获的是 `abcaxc`，而 `print(re.search('ab.*?c', 'abcaxc').group())` 捕获的是 `abc`
  - 贪婪模式和非贪婪模式：这种带量词的匹配，可能有多种匹配方式，贪婪匹配就是匹配到最长的模式，非贪婪模式就是匹配到最短的模式
- (...)：
  - 描述：匹配封闭的正则表达式，然后另存为子组。量词可以用在这种子组上，表达能力更强。
  - 正则示例：([0-9]{3})?,f(oo|u)bar
  - 说明：表示匹配包含有 （三个数字出现0或者1次、逗号、f、oo或者u、bar）这种模式组成的字符串，例如 `011,foobarxxx`
  - 